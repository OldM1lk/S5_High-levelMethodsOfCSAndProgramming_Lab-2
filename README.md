# Лабораторная работа №2

---

В данной работе требуется создать консольное приложение для доступа к ресурсам.

---

## Формат работы
Работа выполняется в командах по 2 человека

---

## Требования
* Пользователь запрашивает доступ к ресурсу, указывая логин, пароль, путь до этого ресурса, совершаемое действие (чтение, запись, выполнение) и объем запрашиваемого ресурса.
* Все пароли должны храниться в программе в виде хэшей с солью, используя стандартные средства `java.security` (рекомендуется `MessageDigest` с алгоритмом SHA-256 + соль).
* Все указанные выше параметры передаются через аргументы командной строки при помощи флагов.
* Ресурсы представляют собой иерархическую структуру, где имя каждого ресурса - это строка, состоящая не более чем из 20 из символов латинского алфавита любого регистра, цифр и символа нижнего подчеркивания.
* Путь до ресурса указывается в виде последовательности имен ресурсов, разделенных точками `A.A8B.C.f_d`.
* Для каждого пользователя установлены права доступа к конкретным ресурсам (чтение, запись, исполнение).
* Права доступа, установленные на родительский ресурс наследуются его потомками.
* Если права доступа не установлены, считается, что ресурс пользователю не доступен.
* Пользователь имеет возможность указать объем используемого ресурса (целое число).
* Для каждого ресурса имеется заранее заданный максимальный объем (целое число).
* Программа выводит только справку (если запрошена), в остальных случаях работает тихо и возвращает код.
* Результатом работы программы является статус-код (целое число).
* При неверном формате запуска программы пользователю показывается справка.
* Справка выводит список поддерживаемых аргументов и их краткое описание.
* Пользователь имеет возможность получить справку по работе программы по флагу `-h` или `--help`.

---

### Описание кодов ответа
| Описание                               | Код ответа |
|----------------------------------------|------------|
| Успешное выполнение                    | 0          |
| Запрошена справка                      | 1          |
| Неверный пароль                        | 2          |
| Неверный логин                         | 3          |
| Неизвестное действие над ресурсом      | 4          |
| Нет доступа                            | 5          |
| Несуществующий ресурс                  | 6          |
| Некорректный формат ресурса или объема | 7          |
| Превышение максимального объема        | 8          |

---

### Нефункциональные требования
1. Использовать СУБД <u>нельзя</u>. Для простоты все данные хранятся в коде.
2. Для работы с аргументами командной строки использовать библиотеку `kotlinx-cli`.
3. Использовать системы сборки <u>нельзя</u>.
4. Создать `.sh` файлы для сборки и запуска программы.
5. Создать `test.sh`, который запускает программу с набором аргументов и проверяет коды ответа программы (по одному кейсу на каждый код ответа). Результат для каждого кейса выводить в виде `OK/FAIL` и итоговое количество успешных тестов `10/10`.
6. Составить `readme.md` файл с указанием авторов (не более 2-х) и инструкциями по сборке и запуску.

---

### Формат ввода
```bash
$ java -jar app.jar --login alice --password qwerty --action read --resource A.B.C --volume 10
```
